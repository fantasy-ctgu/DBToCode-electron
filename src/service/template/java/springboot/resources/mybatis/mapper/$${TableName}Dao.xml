<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="$${basePackage}.dao.$${TableName}Dao">

	<insert id="doInsert"
		parameterType="$${basePackage}.entity.$${TableName}" useGeneratedKeys="true"
		keyProperty="id">
		INSERT INTO
		$${table_name}(
				@{
					$${column_name},
				}@
			)
		values(
				@{
					#{$${columnName}},
				}@
			)
	</insert>

	<delete id="doDelete" parameterType="$${basePackage}.entity.$${TableName}">
		delete from $${table_name} where id = #{id}
	</delete>

	<update id="doUpdate" parameterType="$${basePackage}.entity.$${TableName}" keyProperty="id" useGeneratedKeys="true">
		UPDATE $${table_name}
		<set>
			@{
				<if test="$${columnName} != null">$${column_name}=#{$${columnName}},</if>
			}@
		</set>
		where id = #{id}
	</update>

	<select id="doSelect" parameterType="$${basePackage}.entity.$${TableName}" resultType="$${basePackage}.entity.$${TableName}">
		SELECT * FROM $${table_name}
		<where>
			@{
				<if test="$${columnName} != null">
					and $${column_name} = #{$${columnName}}
				</if>
			}@
		</where>
	</select>

	<select id="doSelectCount" parameterType="$${basePackage}.entity.$${TableName}" resultType="int">
		SELECT COUNT(*) FROM $${table_name}
		<where>
			@{
				<if test="$${columnName} != null">
					and $${column_name} = #{$${columnName}}
				</if>
			}@
		</where>
	</select>
	
</mapper>
